<!DOCTYPE html>
<style>
body {
  font-family: 'Helvetica Neue', Helvetica, Arial, YuGothic, 'Yu Gothic', 游ゴシック体, 游ゴシック, 'ヒラギノ角ゴ ProN W3', 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ Pro W3', 'Hiragino Kaku Gothic Pro', メイリオ, Meiryo, 'ＭＳ ゴシック', 'MS Gothic', sans-serif;
  //font-family: 'Helvetica Neue', sans-serif;
}
.baseline {
  /*background-image: url('baseline.svg');*/
  position: relative;
}
.baseline p {
  letter-spacing: 0.1rem;
}
</style>
<ul>
  <li><a href="#paragraphs">Paragraphs</a></li>
  <li><a href="#lists">Lists</a></li>
  <li><a href="#tables">Tables</a></li>
</ul>
<div class="baseline" style="width: 800px;">
  <h1 id="paragraphs">Paragraphs</h1>
  <p style="font-size: 16px;">16px Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。 16px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。 16px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。 16px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。 16px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 8px;">8px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 9px;">9px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 10px;">10px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 11px;">11px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 12px;">12px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 13px;">13px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 14px;">14px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 16px;">16px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 18px;">18px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 20px;">20px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 22px;">22px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 24px;">24px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 26px;">26px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 28px;">28px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 30px;">30px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 32px;">32px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 40px;">40px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 48px;">48px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 56px;">56px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 64px;">64px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <p style="font-size: 72px;">72px The quick brown fox jumps over the lazy dog. Le cœur déçu mais l'âme plutôt naïve, Louÿs rêva de crapaüter en canoë au delà des îles, près du mälströn où brûlent les novæ. 色は匂へど散りぬるを我が世たれぞ常ならむ有為の奥山今日越えて浅き夢見じ酔ひもせず。</p>
  <h1 id="lists">Lists</h1>
  <ul>
    <li>Item0</li>
    <li>Item1</li>
    <li>Item2</li>
  </ul>
  <h1 id="tables">Tables</h1>
  <table>
    <tr>
      <th>TH0</th>
      <th>TH1</th>
      <th>TH2</th>
    </tr>
    <tr>
      <td>TD0</td>
      <td>TD1</td>
      <td>TD2</td>
    </tr>
    <tr>
      <td>TD0</td>
      <td>TD1</td>
      <td>TD2</td>
    </tr>
  </table>
  <h1 id="forms">Forms</h1>
</div>
<script>
// TODO: Rendering test (on WebKit)

window.addEventListener('load', function() {
  const unit = 32;
  var es = document.querySelectorAll('.baseline *');
  for (var i = 0; i < es.length; i++) {
    var e = es[i];
    var style = getComputedStyle(e);
    var fontSize = parseInt(style.fontSize, 10);
    var lineHeight = (Math.floor(fontSize / unit) + 1) * unit;
    e.style.setProperty('line-height', lineHeight + 'px');
    if (Array.prototype.every.call(e.childNodes, function(n) { return n.nodeType === document.TEXT_NODE; })) {
      //var top = (lineHeight - fontSize) * 0.265 + Math.floor(lineHeight / unit) * 7.4;
      var top = (lineHeight - fontSize) * 0.375 + (Math.floor(lineHeight / unit)) * 4.2;
      e.style.setProperty('top', top + 'px');
    }
    e.style.setProperty('margin-top', '0');
    e.style.setProperty('margin-bottom', '0');
    e.style.setProperty('padding-top', '0');
    e.style.setProperty('padding-bottom', '0');
    e.style.setProperty('position', 'relative');
    if (e.nodeName === 'TABLE') {
      e.style.setProperty('border-collapse', 'collapse');
    }
  }
});
</script>
